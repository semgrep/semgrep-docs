```yaml
- label: ":semgrep: Semgrep"
  commands:
    # Uncomment the following lines if Semgrep AppSec Platform > Findings Page does not create links
    # to the code that generated a finding.
    # Buildkite may set BUILDKITE_COMMIT to a symbolic ref, but Semgrep only accepts SHA1 for commits
    # - if [[ $BUILDKITE_COMMIT =~ ^[a-fA-F0-9]{40}$ ]]; then export SEMGREP_COMMIT=${BUILDKITE_COMMIT}; fi
    # - export SEMGREP_BRANCH=${BUILDKITE_BRANCH}
    # - export SEMGREP_REPO_URL=${BUILDKITE_REPO}
    # Use sed -e 's#git@github.com:##' if you clone with SSH
    # - export SEMGREP_REPO_NAME="$(echo "$BUILDKITE_REPO" | sed -e 's#https://github.com/##' | sed -e 's#.git##')"
    - semgrep ci

  plugins:
    - docker#v5.11.0:
        image: semgrep/semgrep
        environment:
          # The following variable is required to set up a scan connected to Semgrep AppSec Platform
          - "SEMGREP_APP_TOKEN"
```
